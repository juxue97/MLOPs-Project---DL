schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/cnnClassifier/pipeline/dvc_training/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 1bf3028ae3ba6d711cf6ef1f31fd1d58
      size: 760
    - path: src/cnnClassifier/pipeline/dvc_training/stage_01_data_ingestion.py
      hash: md5
      md5: 1762dfd697b339884e15b7315167eab5
      size: 485
    outs:
    - path: artifacts/data_ingestion/test
      hash: md5
      md5: 8fd0d62d0b820e7b5ef7cf86907fdf2b.dir
      size: 16952822
      nfiles: 510
    - path: artifacts/data_ingestion/train
      hash: md5
      md5: 4b3b8138b71a8c6e1fbcbbcf7b731ba7.dir
      size: 119101895
      nfiles: 3563
    - path: artifacts/data_ingestion/valid
      hash: md5
      md5: c0f41a735e5600936a8282464cb212d7.dir
      size: 33894635
      nfiles: 1016
  model_preparation:
    cmd: python src/cnnClassifier/pipeline/dvc_training/stage_02_model_preparation.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 1bf3028ae3ba6d711cf6ef1f31fd1d58
      size: 760
    - path: src/cnnClassifier/pipeline/dvc_training/stage_02_model_preparation.py
      hash: md5
      md5: 7f8875712951c30aef0b399d27b81e82
      size: 488
    params:
      params.yaml:
        CLASSES: 7
        IMAGE_SIZE:
        - 640
        - 640
        - 3
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: c8c8c659c4c2002cf483e131bfda727b.dir
      size: 1023503252
      nfiles: 2
  model_training:
    cmd: python src/cnnClassifier/pipeline/dvc_training/stage_03_model_training.py
    deps:
    - path: artifacts/data_ingestion/test
      hash: md5
      md5: 8fd0d62d0b820e7b5ef7cf86907fdf2b.dir
      size: 16952822
      nfiles: 510
    - path: artifacts/data_ingestion/train
      hash: md5
      md5: 4b3b8138b71a8c6e1fbcbbcf7b731ba7.dir
      size: 119101895
      nfiles: 3563
    - path: artifacts/data_ingestion/valid
      hash: md5
      md5: c0f41a735e5600936a8282464cb212d7.dir
      size: 33894635
      nfiles: 1016
    - path: config/config.yaml
      hash: md5
      md5: 1bf3028ae3ba6d711cf6ef1f31fd1d58
      size: 760
    - path: src/cnnClassifier/pipeline/dvc_training/stage_03_model_training.py
      hash: md5
      md5: c505b0838b750e7d8a3e0fff50b1562d
      size: 485
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 1
        IMAGE_SIZE:
        - 640
        - 640
        - 3
        LEARNING_RATE: 0.001
    outs:
    - path: artifacts/training/model.pt
      hash: md5
      md5: 0408afd4fb6dcc503485dad6448716e2
      size: 470050232
  model_evaluation:
    cmd: python src/cnnClassifier/pipeline/dvc_training/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/valid
      hash: md5
      md5: c0f41a735e5600936a8282464cb212d7.dir
      size: 33894635
      nfiles: 1016
    - path: artifacts/training/model.pt
      hash: md5
      md5: 0408afd4fb6dcc503485dad6448716e2
      size: 470050232
    - path: config/config.yaml
      hash: md5
      md5: 1bf3028ae3ba6d711cf6ef1f31fd1d58
      size: 760
    - path: src/cnnClassifier/pipeline/dvc_training/stage_04_model_evaluation.py
      hash: md5
      md5: 3f644d3b51759d47ff9ea7708f3f34fe
      size: 495
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 640
        - 640
        - 3
    outs:
    - path: artifacts/evaluation/scores.json
      hash: md5
      md5: 17ba0294f165b7bc231aa28d2c889c71
      size: 59
